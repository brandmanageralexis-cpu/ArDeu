<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn German Words</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 800px;
            width: 100%;
            padding: 40px;
            max-height: 90vh;
            overflow-y: auto;
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .menu-screen {
            text-align: center;
        }

        .language-selection, .timer-selection {
            margin-bottom: 40px;
        }

        .lang-title, .timer-title, .category-title {
            font-size: 1.3em;
            color: #555;
            margin-bottom: 20px;
        }

        .lang-buttons, .timer-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .lang-btn, .timer-btn {
            background: white;
            border: 3px solid #ddd;
            border-radius: 15px;
            padding: 20px 40px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 150px;
        }

        .lang-btn:hover, .timer-btn:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .lang-btn.selected, .timer-btn.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .level-selection {
            margin-top: 40px;
        }

        .category-section {
            margin-bottom: 30px;
        }

        .category-header {
            font-size: 1.5em;
            color: #333;
            font-weight: bold;
            margin-bottom: 15px;
            padding: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }

        .level-grid {
            display: grid;
            gap: 10px;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            margin-bottom: 20px;
        }

        .level-btn {
            background: white;
            color: #333;
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 15px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .level-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .level-btn.beginner {
            border-left: 5px solid #56ab2f;
        }

        .level-btn.elementary {
            border-left: 5px solid #0BA360;
        }

        .level-btn.intermediate {
            border-left: 5px solid #f09819;
        }

        .level-btn.advanced {
            border-left: 5px solid #cb2d3e;
        }

        .level-btn.expert {
            border-left: 5px solid #8E2DE2;
        }

        .level-name {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 3px;
        }

        .level-desc {
            font-size: 0.85em;
            color: #666;
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .score-item {
            text-align: center;
        }

        .score-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .score-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }

        .timer-display {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .timer-display.warning {
            color: #ff512f;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .quiz-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            text-align: center;
        }

        .german-word {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 30px;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option-btn {
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .option-btn.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .option-btn.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .option-btn:disabled {
            cursor: not-allowed;
        }

        .next-btn, .menu-btn {
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 40px;
            font-size: 1.1em;
            cursor: pointer;
            display: block;
            margin: 20px auto 0;
            transition: all 0.3s;
        }

        .next-btn:hover, .menu-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .feedback {
            text-align: center;
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
            min-height: 30px;
        }

        .feedback.correct {
            color: #4caf50;
        }

        .feedback.incorrect {
            color: #f44336;
        }

        .restart-btn {
            background: #764ba2;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 40px;
            font-size: 1.1em;
            cursor: pointer;
            display: inline-block;
            margin: 10px;
            transition: all 0.3s;
        }

        .restart-btn:hover {
            background: #653a8a;
            transform: translateY(-2px);
        }

        .final-score {
            text-align: center;
            font-size: 1.5em;
            color: #333;
            margin: 20px 0;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üá©üá™ Deutsch Quiz</h1>
        <p class="subtitle">Learn German Vocabulary</p>

        <!-- Menu Screen -->
        <div id="menu-screen" class="menu-screen">
            <div class="language-selection">
                <div class="lang-title">Choose Your Language / ÿßÿÆÿ™ÿ± ŸÑÿ∫ÿ™ŸÉ</div>
                <div class="lang-buttons">
                    <button class="lang-btn selected" id="lang-english">
                        üá¨üáß English
                    </button>
                    <button class="lang-btn" id="lang-arabic">
                        üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©
                    </button>
                </div>
            </div>

            <div class="timer-selection">
                <div class="timer-title">Timer Mode / Ÿàÿ∂ÿπ ÿßŸÑŸÖÿ§ŸÇÿ™</div>
                <div class="timer-buttons">
                    <button class="timer-btn" id="no-timer">
                        ‚è∏Ô∏è No Timer<br><span style="font-size: 0.8em;">Relaxed</span>
                    </button>
                    <button class="timer-btn selected" id="with-timer">
                        ‚è±Ô∏è With Timer<br><span style="font-size: 0.8em;">Challenge</span>
                    </button>
                </div>
            </div>

            <div class="level-selection">
                <div class="category-title">Select Your Level</div>
                
                <!-- BEGINNER CATEGORY -->
                <div class="category-section">
                    <div class="category-header">üå± BEGINNER</div>
                    <div class="level-grid">
                        <button class="level-btn beginner" data-level="beginner-1">
                            <div class="level-name">Level 1: Basic Greetings</div>
                            <div class="level-desc">8 words</div>
                        </button>
                        <button class="level-btn beginner" data-level="beginner-2">
                            <div class="level-name">Level 2: Essential Words</div>
                            <div class="level-desc">8 words</div>
                        </button>
                        <button class="level-btn beginner" data-level="beginner-3">
                            <div class="level-name">Level 3: Numbers 1-10</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn beginner" data-level="beginner-4">
                            <div class="level-name">Level 4: Family Members</div>
                            <div class="level-desc">8 words</div>
                        </button>
                        <button class="level-btn beginner" data-level="beginner-5">
                            <div class="level-name">Level 5: Pronouns & Verbs</div>
                            <div class="level-desc">8 words</div>
                        </button>
                    </div>
                </div>

                <!-- ELEMENTARY CATEGORY -->
                <div class="category-section">
                    <div class="category-header">üìö ELEMENTARY</div>
                    <div class="level-grid">
                        <button class="level-btn elementary" data-level="elementary-1">
                            <div class="level-name">Level 1: Colors</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn elementary" data-level="elementary-2">
                            <div class="level-name">Level 2: Common Objects</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn elementary" data-level="elementary-3">
                            <div class="level-name">Level 3: Food & Drinks</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn elementary" data-level="elementary-4">
                            <div class="level-name">Level 4: Body Parts</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn elementary" data-level="elementary-5">
                            <div class="level-name">Level 5: Days of Week</div>
                            <div class="level-desc">10 words</div>
                        </button>
                    </div>
                </div>

                <!-- INTERMEDIATE CATEGORY -->
                <div class="category-section">
                    <div class="category-header">üî• INTERMEDIATE</div>
                    <div class="level-grid">
                        <button class="level-btn intermediate" data-level="intermediate-1">
                            <div class="level-name">Level 1: Action Verbs</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn intermediate" data-level="intermediate-2">
                            <div class="level-name">Level 2: Common Phrases</div>
                            <div class="level-desc">8 phrases</div>
                        </button>
                        <button class="level-btn intermediate" data-level="intermediate-3">
                            <div class="level-name">Level 3: Places & Locations</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn intermediate" data-level="intermediate-4">
                            <div class="level-name">Level 4: Time Expressions</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn intermediate" data-level="intermediate-5">
                            <div class="level-name">Level 5: Weather & Seasons</div>
                            <div class="level-desc">11 words</div>
                        </button>
                    </div>
                </div>

                <!-- ADVANCED CATEGORY -->
                <div class="category-section">
                    <div class="category-header">‚ö° ADVANCED</div>
                    <div class="level-grid">
                        <button class="level-btn advanced" data-level="advanced-1">
                            <div class="level-name">Level 1: Shopping & Money</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn advanced" data-level="advanced-2">
                            <div class="level-name">Level 2: Work & Education</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn advanced" data-level="advanced-3">
                            <div class="level-name">Level 3: Travel & Transport</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn advanced" data-level="advanced-4">
                            <div class="level-name">Level 4: Hobbies & Activities</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn advanced" data-level="advanced-5">
                            <div class="level-name">Level 5: Abstract Concepts</div>
                            <div class="level-desc">10 words</div>
                        </button>
                    </div>
                </div>

                <!-- EXPERT CATEGORY -->
                <div class="category-section">
                    <div class="category-header">üéì EXPERT</div>
                    <div class="level-grid">
                        <button class="level-btn expert" data-level="expert-1">
                            <div class="level-name">Level 1: Positive Emotions</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn expert" data-level="expert-2">
                            <div class="level-name">Level 2: Negative Emotions</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn expert" data-level="expert-3">
                            <div class="level-name">Level 3: Descriptive Adjectives</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn expert" data-level="expert-4">
                            <div class="level-name">Level 4: Complex Verbs</div>
                            <div class="level-desc">10 words</div>
                        </button>
                        <button class="level-btn expert" data-level="expert-5">
                            <div class="level-name">Level 5: Advanced Vocabulary</div>
                            <div class="level-desc">10 words</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="score-board">
                <div class="score-item">
                    <div class="score-label">Question</div>
                    <div class="score-value" id="question-number">1/10</div>
                </div>
                <div class="score-item">
                    <div class="score-label">Correct</div>
                    <div class="score-value" id="correct-score">0</div>
                </div>
                <div class="score-item">
                    <div class="score-label">Streak</div>
                    <div class="score-value" id="streak">0</div>
                </div>
                <div class="score-item" id="timer-container" style="display: none;">
                    <div class="score-label">Time</div>
                    <div class="timer-display" id="timer">15</div>
                </div>
            </div>

            <div class="quiz-card" id="quiz-card">
                <div class="german-word" id="german-word"></div>
                <div class="options" id="options"></div>
                <div class="feedback" id="feedback"></div>
            </div>

            <button class="next-btn" id="next-btn" style="display: none;">Next Question</button>
            <button class="menu-btn" id="back-menu">Back to Menu</button>
        </div>
    </div>

    <script>
        const vocabulary = {
            'beginner-1': [
                { german: "Hallo", english: "Hello", arabic: "ŸÖÿ±ÿ≠ÿ®ÿß" },
                { german: "Tsch√ºss", english: "Goodbye", arabic: "ŸàÿØÿßÿπÿß" },
                { german: "Guten Morgen", english: "Good morning", arabic: "ÿµÿ®ÿßÿ≠ ÿßŸÑÿÆŸäÿ±" },
                { german: "Guten Tag", english: "Good day", arabic: "ŸÜŸáÿßÿ±ŸÉ ÿ≥ÿπŸäÿØ" },
                { german: "Gute Nacht", english: "Good night", arabic: "ÿ™ÿµÿ®ÿ≠ ÿπŸÑŸâ ÿÆŸäÿ±" },
                { german: "Auf Wiedersehen", english: "Goodbye (formal)", arabic: "ŸÖÿπ ÿßŸÑÿ≥ŸÑÿßŸÖÿ©" },
                { german: "Bis bald", english: "See you soon", arabic: "ÿ£ÿ±ÿßŸÉ ŸÇÿ±Ÿäÿ®ÿß" },
                { german: "Willkommen", english: "Welcome", arabic: "ŸÖÿ±ÿ≠ÿ®ÿß ÿ®ŸÉ" }
            ],
            'beginner-2': [
                { german: "Ja", english: "Yes", arabic: "ŸÜÿπŸÖ" },
                { german: "Nein", english: "No", arabic: "ŸÑÿß" },
                { german: "Danke", english: "Thank you", arabic: "ÿ¥ŸÉÿ±ÿß" },
                { german: "Bitte", english: "Please/You're welcome", arabic: "ŸÖŸÜ ŸÅÿ∂ŸÑŸÉ" },
                { german: "Entschuldigung", english: "Excuse me/Sorry", arabic: "ÿπÿ∞ÿ±ÿß" },
                { german: "Ich", english: "I", arabic: "ÿ£ŸÜÿß" },
                { german: "Du", english: "You", arabic: "ÿ£ŸÜÿ™" },
                { german: "Wir", english: "We", arabic: "ŸÜÿ≠ŸÜ" }
            ],
            'beginner-3': [
                { german: "Eins", english: "One", arabic: "Ÿàÿßÿ≠ÿØ" },
                { german: "Zwei", english: "Two", arabic: "ÿßÿ´ŸÜÿßŸÜ" },
                { german: "Drei", english: "Three", arabic: "ÿ´ŸÑÿßÿ´ÿ©" },
                { german: "Vier", english: "Four", arabic: "ÿ£ÿ±ÿ®ÿπÿ©" },
                { german: "F√ºnf", english: "Five", arabic: "ÿÆŸÖÿ≥ÿ©" },
                { german: "Sechs", english: "Six", arabic: "ÿ≥ÿ™ÿ©" },
                { german: "Sieben", english: "Seven", arabic: "ÿ≥ÿ®ÿπÿ©" },
                { german: "Acht", english: "Eight", arabic: "ÿ´ŸÖÿßŸÜŸäÿ©" },
                { german: "Neun", english: "Nine", arabic: "ÿ™ÿ≥ÿπÿ©" },
                { german: "Zehn", english: "Ten", arabic: "ÿπÿ¥ÿ±ÿ©" }
            ],
            'beginner-4': [
                { german: "Die Mutter", english: "Mother", arabic: "ÿßŸÑÿ£ŸÖ" },
                { german: "Der Vater", english: "Father", arabic: "ÿßŸÑÿ£ÿ®" },
                { german: "Der Bruder", english: "Brother", arabic: "ÿßŸÑÿ£ÿÆ" },
                { german: "Die Schwester", english: "Sister", arabic: "ÿßŸÑÿ£ÿÆÿ™" },
                { german: "Die Oma", english: "Grandma", arabic: "ÿßŸÑÿ¨ÿØÿ©" },
                { german: "Der Opa", english: "Grandpa", arabic: "ÿßŸÑÿ¨ÿØ" },
                { german: "Das Kind", english: "Child", arabic: "ÿßŸÑÿ∑ŸÅŸÑ" },
                { german: "Die Familie", english: "Family", arabic: "ÿßŸÑÿπÿßÿ¶ŸÑÿ©" }
            ],
            'beginner-5': [
                { german: "Er", english: "He", arabic: "ŸáŸà" },
                { german: "Sie", english: "She", arabic: "ŸáŸä" },
                { german: "Es", english: "It", arabic: "ŸáŸà/ŸáŸä (ÿ∫Ÿäÿ± ÿπÿßŸÇŸÑ)" },
                { german: "Sein", english: "To be", arabic: "ŸäŸÉŸàŸÜ" },
                { german: "Haben", english: "To have", arabic: "ŸäŸÖŸÑŸÉ" },
                { german: "Ich bin", english: "I am", arabic: "ÿ£ŸÜÿß ÿ£ŸÉŸàŸÜ" },
                { german: "Du bist", english: "You are", arabic: "ÿ£ŸÜÿ™ ÿ™ŸÉŸàŸÜ" },
                { german: "Ich habe", english: "I have", arabic: "ÿ£ŸÜÿß ÿ£ŸÖŸÑŸÉ" }
            ],
            'elementary-1': [
                { german: "Rot", english: "Red", arabic: "ÿ£ÿ≠ŸÖÿ±" },
                { german: "Blau", english: "Blue", arabic: "ÿ£ÿ≤ÿ±ŸÇ" },
                { german: "Gr√ºn", english: "Green", arabic: "ÿ£ÿÆÿ∂ÿ±" },
                { german: "Gelb", english: "Yellow", arabic: "ÿ£ÿµŸÅÿ±" },
                { german: "Orange", english: "Orange", arabic: "ÿ®ÿ±ÿ™ŸÇÿßŸÑŸä" },
                { german: "Rosa", english: "Pink", arabic: "Ÿàÿ±ÿØŸä" },
                { german: "Lila", english: "Purple", arabic: "ÿ®ŸÜŸÅÿ≥ÿ¨Ÿä" },
                { german: "Schwarz", english: "Black", arabic: "ÿ£ÿ≥ŸàÿØ" },
                { german: "Wei√ü", english: "White", arabic: "ÿ£ÿ®Ÿäÿ∂" },
                { german: "Braun", english: "Brown", arabic: "ÿ®ŸÜŸä" }
            ],
            'elementary-2': [
                { german: "Das Haus", english: "The house", arabic: "ÿßŸÑŸÖŸÜÿ≤ŸÑ" },
                { german: "Der Tisch", english: "The table", arabic: "ÿßŸÑÿ∑ÿßŸàŸÑÿ©" },
                { german: "Der Stuhl", english: "The chair", arabic: "ÿßŸÑŸÉÿ±ÿ≥Ÿä" },
                { german: "Das Bett", english: "The bed", arabic: "ÿßŸÑÿ≥ÿ±Ÿäÿ±" },
                { german: "Die T√ºr", english: "The door", arabic: "ÿßŸÑÿ®ÿßÿ®" },
                { german: "Das Fenster", english: "The window", arabic: "ÿßŸÑŸÜÿßŸÅÿ∞ÿ©" },
                { german: "Das Buch", english: "The book", arabic: "ÿßŸÑŸÉÿ™ÿßÿ®" },
                { german: "Der Stift", english: "The pen", arabic: "ÿßŸÑŸÇŸÑŸÖ" },
                { german: "Das Telefon", english: "The phone", arabic: "ÿßŸÑŸáÿßÿ™ŸÅ" },
                { german: "Die Tasche", english: "The bag", arabic: "ÿßŸÑÿ≠ŸÇŸäÿ®ÿ©" }
            ],
            'elementary-3': [
                { german: "Das Brot", english: "Bread", arabic: "ÿßŸÑÿÆÿ®ÿ≤" },
                { german: "Das Wasser", english: "Water", arabic: "ÿßŸÑŸÖÿßÿ°" },
                { german: "Die Milch", english: "Milk", arabic: "ÿßŸÑÿ≠ŸÑŸäÿ®" },
                { german: "Der Kaffee", english: "Coffee", arabic: "ÿßŸÑŸÇŸáŸàÿ©" },
                { german: "Der Tee", english: "Tea", arabic: "ÿßŸÑÿ¥ÿßŸä" },
                { german: "Der Apfel", english: "Apple", arabic: "ÿßŸÑÿ™ŸÅÿßÿ≠ÿ©" },
                { german: "Die Banane", english: "Banana", arabic: "ÿßŸÑŸÖŸàÿ≤" },
                { german: "Das Ei", english: "Egg", arabic: "ÿßŸÑÿ®Ÿäÿ∂ÿ©" },
                { german: "Der K√§se", english: "Cheese", arabic: "ÿßŸÑÿ¨ÿ®ŸÜ" },
                { german: "Das Fleisch", english: "Meat", arabic: "ÿßŸÑŸÑÿ≠ŸÖ" }
            ],
            'elementary-4': [
                { german: "Der Kopf", english: "Head", arabic: "ÿßŸÑÿ±ÿ£ÿ≥" },
                { german: "Das Auge", english: "Eye", arabic: "ÿßŸÑÿπŸäŸÜ" },
                { german: "Die Nase", english: "Nose", arabic: "ÿßŸÑÿ£ŸÜŸÅ" },
                { german: "Der Mund", english: "Mouth", arabic: "ÿßŸÑŸÅŸÖ" },
                { german: "Das Ohr", english: "Ear", arabic: "ÿßŸÑÿ£ÿ∞ŸÜ" },
                { german: "Die Hand", english: "Hand", arabic: "ÿßŸÑŸäÿØ" },
                { german: "Der Fu√ü", english: "Foot", arabic: "ÿßŸÑŸÇÿØŸÖ" },
                { german: "Das Bein", english: "Leg", arabic: "ÿßŸÑÿ≥ÿßŸÇ" },
                { german: "Der Arm", english: "Arm", arabic: "ÿßŸÑÿ∞ÿ±ÿßÿπ" },
                { german: "Das Haar", english: "Hair", arabic: "ÿßŸÑÿ¥ÿπÿ±" }
            ],
            'elementary-5': [
                { german: "Montag", english: "Monday", arabic: "ÿßŸÑÿ•ÿ´ŸÜŸäŸÜ" },
                { german: "Dienstag", english: "Tuesday", arabic: "ÿßŸÑÿ´ŸÑÿßÿ´ÿßÿ°" },
                { german: "Mittwoch", english: "Wednesday", arabic: "ÿßŸÑÿ£ÿ±ÿ®ÿπÿßÿ°" },
                { german: "Donnerstag", english: "Thursday", arabic: "ÿßŸÑÿÆŸÖŸäÿ≥" },
                { german: "Freitag", english: "Friday", arabic: "ÿßŸÑÿ¨ŸÖÿπÿ©" },
                { german: "Samstag", english: "Saturday", arabic: "ÿßŸÑÿ≥ÿ®ÿ™" },
                { german: "Sonntag", english: "Sunday", arabic: "ÿßŸÑÿ£ÿ≠ÿØ" },
                { german: "Heute", english: "Today", arabic: "ÿßŸÑŸäŸàŸÖ" },
                { german: "Morgen", english: "Tomorrow", arabic: "ÿ∫ÿØÿß" },
                { german: "Gestern", english: "Yesterday", arabic: "ÿ£ŸÖÿ≥" }
            ],
            'intermediate-1': [
                { german: "Gehen", english: "To go", arabic: "Ÿäÿ∞Ÿáÿ®" },
                { german: "Kommen", english: "To come", arabic: "Ÿäÿ£ÿ™Ÿä" },
                { german: "Essen", english: "To eat", arabic: "Ÿäÿ£ŸÉŸÑ" },
                { german: "Trinken", english: "To drink", arabic: "Ÿäÿ¥ÿ±ÿ®" },
                { german: "Schlafen", english: "To sleep", arabic: "ŸäŸÜÿßŸÖ" },
                { german: "Lesen", english: "To read", arabic: "ŸäŸÇÿ±ÿ£" },
                { german: "Schreiben", english: "To write", arabic: "ŸäŸÉÿ™ÿ®" },
                { german: "Sprechen", english: "To speak", arabic: "Ÿäÿ™ŸÉŸÑŸÖ" },
                { german: "H√∂ren", english: "To hear", arabic: "Ÿäÿ≥ŸÖÿπ" },
                { german: "Sehen", english: "To see", arabic: "Ÿäÿ±Ÿâ" }
            ],
            'intermediate-2': [
                { german: "Wie geht's?", english: "How are you?", arabic: "ŸÉŸäŸÅ ÿ≠ÿßŸÑŸÉÿü" },
                { german: "Mir geht's gut", english: "I'm fine", arabic: "ÿ£ŸÜÿß ÿ®ÿÆŸäÿ±" },
                { german: "Wie hei√üt du?", english: "What's your name?", arabic: "ŸÖÿß ÿßÿ≥ŸÖŸÉÿü" },
                { german: "Ich hei√üe...", english: "My name is...", arabic: "ÿßÿ≥ŸÖŸä..." },
                { german: "Woher kommst du?", english: "Where are you from?", arabic: "ŸÖŸÜ ÿ£ŸäŸÜ ÿ£ŸÜÿ™ÿü" },
                { german: "Ich komme aus...", english: "I come from...", arabic: "ÿ£ŸÜÿß ŸÖŸÜ..." },
                { german: "Wie alt bist du?", english: "How old are you?", arabic: "ŸÉŸÖ ÿπŸÖÿ±ŸÉÿü" },
                { german: "Ich bin ... Jahre alt", english: "I am ... years old", arabic: "ÿπŸÖÿ±Ÿä ... ÿ≥ŸÜÿ©" }
            ],
            'intermediate-3': [
                { german: "Die Stadt", english: "City", arabic: "ÿßŸÑŸÖÿØŸäŸÜÿ©" },
                { german: "Das Dorf", english: "Village", arabic: "ÿßŸÑŸÇÿ±Ÿäÿ©" },
                { german: "Die Schule", english: "School", arabic: "ÿßŸÑŸÖÿØÿ±ÿ≥ÿ©" },
                { german: "Die Kirche", english: "Church", arabic: "ÿßŸÑŸÉŸÜŸäÿ≥ÿ©" },
                { german: "Das Krankenhaus", english: "Hospital", arabic: "ÿßŸÑŸÖÿ≥ÿ™ÿ¥ŸÅŸâ" },
                { german: "Der Bahnhof", english: "Train station", arabic: "ŸÖÿ≠ÿ∑ÿ© ÿßŸÑŸÇÿ∑ÿßÿ±" },
                { german: "Der Flughafen", english: "Airport", arabic: "ÿßŸÑŸÖÿ∑ÿßÿ±" },
                { german: "Das Restaurant", english: "Restaurant", arabic: "ÿßŸÑŸÖÿ∑ÿπŸÖ" },
                { german: "Der Supermarkt", english: "Supermarket", arabic: "ÿßŸÑÿ≥Ÿàÿ®ÿ± ŸÖÿßÿ±ŸÉÿ™" },
                { german: "Der Park", english: "Park", arabic: "ÿßŸÑÿ≠ÿØŸäŸÇÿ©" }
            ],
            'intermediate-4': [
                { german: "Die Uhr", english: "Clock/Watch", arabic: "ÿßŸÑÿ≥ÿßÿπÿ©" },
                { german: "Die Stunde", english: "Hour", arabic: "ÿ≥ÿßÿπÿ© (ÿ≤ŸÖŸÜ)" },
                { german: "Die Minute", english: "Minute", arabic: "ÿØŸÇŸäŸÇÿ©" },
                { german: "Jetzt", english: "Now", arabic: "ÿßŸÑÿ¢ŸÜ" },
                { german: "Sp√§ter", english: "Later", arabic: "ŸÑÿßÿ≠ŸÇÿß" },
                { german: "Fr√ºh", english: "Early", arabic: "ŸÖÿ®ŸÉÿ±ÿß" },
                { german: "Sp√§t", english: "Late", arabic: "ŸÖÿ™ÿ£ÿÆÿ±ÿß" },
                { german: "Immer", english: "Always", arabic: "ÿØÿßÿ¶ŸÖÿß" },
                { german: "Manchmal", english: "Sometimes", arabic: "ÿ£ÿ≠ŸäÿßŸÜÿß" },
                { german: "Nie", english: "Never", arabic: "ÿ£ÿ®ÿØÿß" }
            ],
            'intermediate-5': [
                { german: "Das Wetter", english: "Weather", arabic: "ÿßŸÑÿ∑ŸÇÿ≥" },
                { german: "Die Sonne", english: "Sun", arabic: "ÿßŸÑÿ¥ŸÖÿ≥" },
                { german: "Der Regen", english: "Rain", arabic: "ÿßŸÑŸÖÿ∑ÿ±" },
                { german: "Der Schnee", english: "Snow", arabic: "ÿßŸÑÿ´ŸÑÿ¨" },
                { german: "Der Wind", english: "Wind", arabic: "ÿßŸÑÿ±Ÿäÿßÿ≠" },
                { german: "Der Fr√ºhling", english: "Spring", arabic: "ÿßŸÑÿ±ÿ®Ÿäÿπ" },
                { german: "Der Sommer", english: "Summer", arabic: "ÿßŸÑÿµŸäŸÅ" },
                { german: "Der Herbst", english: "Autumn", arabic: "ÿßŸÑÿÆÿ±ŸäŸÅ" },
                { german: "Der Winter", english: "Winter", arabic: "ÿßŸÑÿ¥ÿ™ÿßÿ°" },
                { german: "Warm", english: "Warm", arabic: "ÿØÿßŸÅÿ¶" },
                { german: "Kalt", english: "Cold", arabic: "ÿ®ÿßÿ±ÿØ" }
            ],
            'advanced-1': [
                { german: "Das Geld", english: "Money", arabic: "ÿßŸÑŸÖÿßŸÑ" },
                { german: "Der Euro", english: "Euro", arabic: "ÿßŸÑŸäŸàÿ±Ÿà" },
                { german: "Kaufen", english: "To buy", arabic: "Ÿäÿ¥ÿ™ÿ±Ÿä" },
                { german: "Verkaufen", english: "To sell", arabic: "Ÿäÿ®Ÿäÿπ" },
                { german: "Bezahlen", english: "To pay", arabic: "ŸäÿØŸÅÿπ" },
                { german: "Kosten", english: "To cost", arabic: "ŸäŸÉŸÑŸÅ" },
                { german: "Teuer", english: "Expensive", arabic: "ÿ∫ÿßŸÑŸä" },
                { german: "Billig", english: "Cheap", arabic: "ÿ±ÿÆŸäÿµ" },
                { german: "Der Preis", english: "Price", arabic: "ÿßŸÑÿ≥ÿπÿ±" },
                { german: "Die Rechnung", english: "Bill/Invoice", arabic: "ÿßŸÑŸÅÿßÿ™Ÿàÿ±ÿ©" }
            ],
            'advanced-2': [
                { german: "Die Arbeit", english: "Work", arabic: "ÿßŸÑÿπŸÖŸÑ" },
                { german: "Der Job", english: "Job", arabic: "ÿßŸÑŸàÿ∏ŸäŸÅÿ©" },
                { german: "Arbeiten", english: "To work", arabic: "ŸäÿπŸÖŸÑ" },
                { german: "Lernen", english: "To learn", arabic: "Ÿäÿ™ÿπŸÑŸÖ" },
                { german: "Studieren", english: "To study", arabic: "ŸäÿØÿ±ÿ≥" },
                { german: "Der Lehrer", english: "Teacher", arabic: "ÿßŸÑŸÖÿπŸÑŸÖ" },
                { german: "Der Sch√ºler", english: "Student (school)", arabic: "ÿßŸÑÿ™ŸÑŸÖŸäÿ∞" },
                { german: "Die Universit√§t", english: "University", arabic: "ÿßŸÑÿ¨ÿßŸÖÿπÿ©" },
                { german: "Das B√ºro", english: "Office", arabic: "ÿßŸÑŸÖŸÉÿ™ÿ®" },
                { german: "Der Chef", english: "Boss", arabic: "ÿßŸÑŸÖÿØŸäÿ±" }
            ],
            'advanced-3': [
                { german: "Reisen", english: "To travel", arabic: "Ÿäÿ≥ÿßŸÅÿ±" },
                { german: "Das Auto", english: "Car", arabic: "ÿßŸÑÿ≥Ÿäÿßÿ±ÿ©" },
                { german: "Der Bus", english: "Bus", arabic: "ÿßŸÑÿ≠ÿßŸÅŸÑÿ©" },
                { german: "Der Zug", english: "Train", arabic: "ÿßŸÑŸÇÿ∑ÿßÿ±" },
                { german: "Das Flugzeug", english: "Airplane", arabic: "ÿßŸÑÿ∑ÿßÿ¶ÿ±ÿ©" },
                { german: "Das Fahrrad", english: "Bicycle", arabic: "ÿßŸÑÿØÿ±ÿßÿ¨ÿ©" },
                { german: "Fahren", english: "To drive/ride", arabic: "ŸäŸÇŸàÿØ" },
                { german: "Fliegen", english: "To fly", arabic: "Ÿäÿ∑Ÿäÿ±" },
                { german: "Die Reise", english: "Journey/Trip", arabic: "ÿßŸÑÿ±ÿ≠ŸÑÿ©" },
                { german: "Das Ticket", english: "Ticket", arabic: "ÿßŸÑÿ™ÿ∞ŸÉÿ±ÿ©" }
            ],
            'advanced-4': [
                { german: "Das Hobby", english: "Hobby", arabic: "ÿßŸÑŸáŸàÿßŸäÿ©" },
                { german: "Der Sport", english: "Sport", arabic: "ÿßŸÑÿ±Ÿäÿßÿ∂ÿ©" },
                { german: "Spielen", english: "To play", arabic: "ŸäŸÑÿπÿ®" },
                { german: "Schwimmen", english: "To swim", arabic: "Ÿäÿ≥ÿ®ÿ≠" },
                { german: "Laufen", english: "To run", arabic: "Ÿäÿ¨ÿ±Ÿä" },
                { german: "Tanzen", english: "To dance", arabic: "Ÿäÿ±ŸÇÿµ" },
                { german: "Singen", english: "To sing", arabic: "Ÿäÿ∫ŸÜŸä" },
                { german: "Kochen", english: "To cook", arabic: "Ÿäÿ∑ÿ®ÿÆ" },
                { german: "Malen", english: "To paint", arabic: "Ÿäÿ±ÿ≥ŸÖ" },
                { german: "Die Musik", english: "Music", arabic: "ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ" }
            ],
            'advanced-5': [
                { german: "Die Zeit", english: "Time", arabic: "ÿßŸÑŸàŸÇÿ™" },
                { german: "Das Leben", english: "Life", arabic: "ÿßŸÑÿ≠Ÿäÿßÿ©" },
                { german: "Die Liebe", english: "Love", arabic: "ÿßŸÑÿ≠ÿ®" },
                { german: "Die Freundschaft", english: "Friendship", arabic: "ÿßŸÑÿµÿØÿßŸÇÿ©" },
                { german: "Die Wahrheit", english: "Truth", arabic: "ÿßŸÑÿ≠ŸÇŸäŸÇÿ©" },
                { german: "Die Freiheit", english: "Freedom", arabic: "ÿßŸÑÿ≠ÿ±Ÿäÿ©" },
                { german: "Die Hoffnung", english: "Hope", arabic: "ÿßŸÑÿ£ŸÖŸÑ" },
                { german: "Der Traum", english: "Dream", arabic: "ÿßŸÑÿ≠ŸÑŸÖ" },
                { german: "Die Idee", english: "Idea", arabic: "ÿßŸÑŸÅŸÉÿ±ÿ©" },
                { german: "Das Problem", english: "Problem", arabic: "ÿßŸÑŸÖÿ¥ŸÉŸÑÿ©" }
            ],
            'expert-1': [
                { german: "Gl√ºcklich", english: "Happy", arabic: "ÿ≥ÿπŸäÿØ" },
                { german: "Fr√∂hlich", english: "Cheerful", arabic: "ŸÖÿ±ÿ≠" },
                { german: "Zufrieden", english: "Content/Satisfied", arabic: "ÿ±ÿßÿ∂" },
                { german: "Aufgeregt", english: "Excited", arabic: "ŸÖÿ™ÿ≠ŸÖÿ≥" },
                { german: "Begeistert", english: "Enthusiastic", arabic: "ŸÖÿ™ÿ≠ŸÖÿ≥ ÿ¨ÿØÿß" },
                { german: "Stolz", english: "Proud", arabic: "ŸÅÿÆŸàÿ±" },
                { german: "Dankbar", english: "Grateful", arabic: "ŸÖŸÖÿ™ŸÜ" },
                { german: "Hoffnungsvoll", english: "Hopeful", arabic: "ŸÖÿ™ŸÅÿßÿ¶ŸÑ" },
                { german: "Erleichtert", english: "Relieved", arabic: "ŸÖÿ±ÿ™ÿßÿ≠" },
                { german: "Gelassen", english: "Calm/Relaxed", arabic: "ŸáÿßÿØÿ¶" }
            ],
            'expert-2': [
                { german: "Traurig", english: "Sad", arabic: "ÿ≠ÿ≤ŸäŸÜ" },
                { german: "W√ºtend", english: "Angry", arabic: "ÿ∫ÿßÿ∂ÿ®" },
                { german: "√Ñngstlich", english: "Anxious/Afraid", arabic: "ÿÆÿßÿ¶ŸÅ" },
                { german: "Nerv√∂s", english: "Nervous", arabic: "ÿπÿµÿ®Ÿä" },
                { german: "Entt√§uscht", english: "Disappointed", arabic: "ÿÆÿßÿ¶ÿ® ÿßŸÑÿ£ŸÖŸÑ" },
                { german: "Frustriert", english: "Frustrated", arabic: "ŸÖÿ≠ÿ®ÿ∑" },
                { german: "Einsam", english: "Lonely", arabic: "Ÿàÿ≠ŸäÿØ" },
                { german: "M√ºde", english: "Tired", arabic: "ŸÖÿ™ÿπÿ®" },
                { german: "Gestresst", english: "Stressed", arabic: "ŸÖÿ∂ÿ∫Ÿàÿ∑" },
                { german: "Verlegen", english: "Embarrassed", arabic: "ŸÖÿ≠ÿ±ÿ¨" }
            ],
            'expert-3': [
                { german: "Gro√ü", english: "Big/Tall", arabic: "ŸÉÿ®Ÿäÿ±" },
                { german: "Klein", english: "Small", arabic: "ÿµÿ∫Ÿäÿ±" },
                { german: "Lang", english: "Long", arabic: "ÿ∑ŸàŸäŸÑ" },
                { german: "Kurz", english: "Short", arabic: "ŸÇÿµŸäÿ±" },
                { german: "Alt", english: "Old", arabic: "ŸÇÿØŸäŸÖ" },
                { german: "Neu", english: "New", arabic: "ÿ¨ÿØŸäÿØ" },
                { german: "Sch√∂n", english: "Beautiful", arabic: "ÿ¨ŸÖŸäŸÑ" },
                { german: "H√§sslich", english: "Ugly", arabic: "ŸÇÿ®Ÿäÿ≠" },
                { german: "Gut", english: "Good", arabic: "ÿ¨ŸäÿØ" },
                { german: "Schlecht", english: "Bad", arabic: "ÿ≥Ÿäÿ°" }
            ],
            'expert-4': [
                { german: "Verstehen", english: "To understand", arabic: "ŸäŸÅŸáŸÖ" },
                { german: "Erkl√§ren", english: "To explain", arabic: "Ÿäÿ¥ÿ±ÿ≠" },
                { german: "Entscheiden", english: "To decide", arabic: "ŸäŸÇÿ±ÿ±" },
                { german: "Erreichen", english: "To achieve", arabic: "Ÿäÿ≠ŸÇŸÇ" },
                { german: "Verbessern", english: "To improve", arabic: "Ÿäÿ≠ÿ≥ŸÜ" },
                { german: "Entwickeln", english: "To develop", arabic: "Ÿäÿ∑Ÿàÿ±" },
                { german: "Vergleichen", english: "To compare", arabic: "ŸäŸÇÿßÿ±ŸÜ" },
                { german: "Beeinflussen", english: "To influence", arabic: "Ÿäÿ§ÿ´ÿ±" },
                { german: "Vermeiden", english: "To avoid", arabic: "Ÿäÿ™ÿ¨ŸÜÿ®" },
                { german: "Untersuchen", english: "To examine", arabic: "ŸäŸÅÿ≠ÿµ" }
            ],
            'expert-5': [
                { german: "Die Gesundheit", english: "Health", arabic: "ÿßŸÑÿµÿ≠ÿ©" },
                { german: "Die Bildung", english: "Education", arabic: "ÿßŸÑÿ™ÿπŸÑŸäŸÖ" },
                { german: "Die Gesellschaft", english: "Society", arabic: "ÿßŸÑŸÖÿ¨ÿ™ŸÖÿπ" },
                { german: "Die Wirtschaft", english: "Economy", arabic: "ÿßŸÑÿßŸÇÿ™ÿµÿßÿØ" },
                { german: "Die Umwelt", english: "Environment", arabic: "ÿßŸÑÿ®Ÿäÿ¶ÿ©" },
                { german: "Die Politik", english: "Politics", arabic: "ÿßŸÑÿ≥Ÿäÿßÿ≥ÿ©" },
                { german: "Die Wissenschaft", english: "Science", arabic: "ÿßŸÑÿπŸÑŸÖ" },
                { german: "Die Kultur", english: "Culture", arabic: "ÿßŸÑÿ´ŸÇÿßŸÅÿ©" },
                { german: "Die Technologie", english: "Technology", arabic: "ÿßŸÑÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿß" },
                { german: "Die Zukunft", english: "Future", arabic: "ÿßŸÑŸÖÿ≥ÿ™ŸÇÿ®ŸÑ" }
            ]
        };

        let currentLanguage = 'english';
        let currentLevel = 'beginner-1';
        let currentQuestion = 0;
        let correctAnswers = 0;
        let streak = 0;
        let quizData = [];
        let selectedAnswer = null;
        let totalQuestions = 8;
        let timerEnabled = true;
        let timeLeft = 15;
        let timerInterval = null;

        // Language selection
        document.getElementById('lang-english').addEventListener('click', function() {
            currentLanguage = 'english';
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
        });

        document.getElementById('lang-arabic').addEventListener('click', function() {
            currentLanguage = 'arabic';
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
        });

        // Timer selection
        document.getElementById('no-timer').addEventListener('click', function() {
            timerEnabled = false;
            document.querySelectorAll('.timer-btn').forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
        });

        document.getElementById('with-timer').addEventListener('click', function() {
            timerEnabled = true;
            document.querySelectorAll('.timer-btn').forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
        });

        // Level selection
        document.querySelectorAll('.level-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const level = this.getAttribute('data-level');
                startQuiz(level);
            });
        });

        // Back to menu
        document.getElementById('back-menu').addEventListener('click', backToMenu);

        // Next button
        document.getElementById('next-btn').addEventListener('click', nextQuestion);

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startQuiz(level) {
            currentLevel = level;
            
            if (!vocabulary[level]) {
                alert('Level not found!');
                return;
            }

            quizData = shuffleArray([...vocabulary[level]]);
            totalQuestions = quizData.length;
            currentQuestion = 0;
            correctAnswers = 0;
            streak = 0;
            
            document.getElementById('menu-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            
            if (timerEnabled) {
                document.getElementById('timer-container').style.display = 'block';
            } else {
                document.getElementById('timer-container').style.display = 'none';
            }
            
            // Reset quiz card HTML structure
            const quizCard = document.getElementById('quiz-card');
            quizCard.innerHTML = `
                <div class="german-word" id="german-word"></div>
                <div class="options" id="options"></div>
                <div class="feedback" id="feedback"></div>
            `;
            
            updateScoreboard();
            showQuestion();
        }

        function backToMenu() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            document.getElementById('menu-screen').classList.remove('hidden');
            document.getElementById('quiz-screen').classList.add('hidden');
        }

        function startTimer() {
            if (!timerEnabled) return;
            
            timeLeft = 15;
            updateTimerDisplay();
            
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timeOut();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const timerEl = document.getElementById('timer');
            timerEl.textContent = timeLeft;
            
            if (timeLeft <= 5) {
                timerEl.classList.add('warning');
            } else {
                timerEl.classList.remove('warning');
            }
        }

        function timeOut() {
            const current = quizData[currentQuestion];
            const correctTranslation = current[currentLanguage];
            
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(btn => {
                btn.disabled = true;
                if (btn.textContent === correctTranslation) {
                    btn.classList.add('correct');
                }
            });

            streak = 0;
            const feedback = document.getElementById('feedback');
            feedback.textContent = currentLanguage === 'english' 
                ? `‚è∞ Time's up! Correct: ${correctTranslation}` 
                : `‚è∞ ÿßŸÜÿ™ŸáŸâ ÿßŸÑŸàŸÇÿ™! ÿßŸÑÿµÿ≠Ÿäÿ≠: ${correctTranslation}`;
            feedback.className = 'feedback incorrect';
            
            updateScoreboard();
            document.getElementById('next-btn').style.display = 'block';
        }

        function showQuestion() {
            if (currentQuestion >= quizData.length) {
                if (timerInterval) clearInterval(timerInterval);
                showFinalScore();
                return;
            }

            selectedAnswer = null;
            const current = quizData[currentQuestion];
            
            const germanWordEl = document.getElementById('german-word');
            const feedbackEl = document.getElementById('feedback');
            const nextBtn = document.getElementById('next-btn');
            
            if (germanWordEl) germanWordEl.textContent = current.german;
            if (feedbackEl) {
                feedbackEl.textContent = '';
                feedbackEl.className = 'feedback';
            }
            if (nextBtn) nextBtn.style.display = 'none';

            const correctTranslation = current[currentLanguage];
            
            // Get all words from all levels for wrong options
            const allWords = [];
            Object.keys(vocabulary).forEach(key => {
                allWords.push(...vocabulary[key]);
            });
            
            const wrongOptions = allWords
                .filter(w => w[currentLanguage] !== correctTranslation)
                .sort(() => Math.random() - 0.5)
                .slice(0, 3)
                .map(w => w[currentLanguage]);

            const allOptions = shuffleArray([correctTranslation, ...wrongOptions]);

            const optionsContainer = document.getElementById('options');
            if (optionsContainer) {
                optionsContainer.innerHTML = '';

                allOptions.forEach(option => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.textContent = option;
                    btn.onclick = function() {
                        selectAnswer(option, correctTranslation);
                    };
                    optionsContainer.appendChild(btn);
                });
            }

            startTimer();
        }

        function selectAnswer(selected, correct) {
            if (selectedAnswer !== null) return;

            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }

            selectedAnswer = selected;
            const buttons = document.querySelectorAll('.option-btn');
            const feedback = document.getElementById('feedback');

            buttons.forEach(btn => {
                btn.disabled = true;
                if (btn.textContent === correct) {
                    btn.classList.add('correct');
                }
                if (btn.textContent === selected && selected !== correct) {
                    btn.classList.add('incorrect');
                }
            });

            if (selected === correct) {
                correctAnswers++;
                streak++;
                feedback.textContent = currentLanguage === 'english' ? '‚úì Richtig! (Correct!)' : '‚úì ÿµÿ≠Ÿäÿ≠! (Richtig!)';
                feedback.className = 'feedback correct';
            } else {
                streak = 0;
                feedback.textContent = currentLanguage === 'english' 
                    ? `‚úó Falsch! Correct: ${correct}` 
                    : `‚úó ÿÆÿ∑ÿ£! ÿßŸÑÿµÿ≠Ÿäÿ≠: ${correct}`;
                feedback.className = 'feedback incorrect';
            }

            updateScoreboard();
            document.getElementById('next-btn').style.display = 'block';
        }

        function updateScoreboard() {
            document.getElementById('question-number').textContent = `${currentQuestion + 1}/${quizData.length}`;
            document.getElementById('correct-score').textContent = correctAnswers;
            document.getElementById('streak').textContent = streak;
        }

        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        function showFinalScore() {
            const percentage = Math.round((correctAnswers / quizData.length) * 100);
            let message = '';
            
            if (currentLanguage === 'english') {
                if (percentage === 100) message = 'Perfekt! üéâ';
                else if (percentage >= 80) message = 'Sehr gut! üëè';
                else if (percentage >= 60) message = 'Gut gemacht! üëç';
                else message = 'Keep practicing! üí™';
            } else {
                if (percentage === 100) message = 'ŸÖŸÖÿ™ÿßÿ≤! üéâ';
                else if (percentage >= 80) message = 'ÿ¨ŸäÿØ ÿ¨ÿØÿß! üëè';
                else if (percentage >= 60) message = 'ÿ£ÿ≠ÿ≥ŸÜÿ™! üëç';
                else message = 'ŸàÿßÿµŸÑ ÿßŸÑÿ™ÿØÿ±Ÿäÿ®! üí™';
            }

            const playAgainText = currentLanguage === 'english' ? 'Play Again' : 'ÿßŸÑÿπÿ® ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ';
            const mainMenuText = currentLanguage === 'english' ? 'Main Menu' : 'ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©';
            const resultText = currentLanguage === 'english' 
                ? 'You got ' + correctAnswers + ' out of ' + quizData.length + ' correct!'
                : 'ŸÑŸÇÿØ ÿ£ÿ¨ÿ®ÿ™ ' + correctAnswers + ' ŸÖŸÜ ' + quizData.length + ' ÿ®ÿ¥ŸÉŸÑ ÿµÿ≠Ÿäÿ≠!';

            const quizCard = document.getElementById('quiz-card');
            
            if (!quizCard) return;
            
            // Build HTML string
            let finalHTML = '<div class="final-score">';
            finalHTML += '<h2>' + message + '</h2>';
            finalHTML += '<p style="margin: 20px 0;">' + resultText + '</p>';
            finalHTML += '<p style="font-size: 3em;">' + percentage + '%</p>';
            finalHTML += '</div>';
            
            quizCard.innerHTML = finalHTML;
            
            // Create Play Again button
            const playAgainBtn = document.createElement('button');
            playAgainBtn.className = 'restart-btn';
            playAgainBtn.textContent = playAgainText;
            playAgainBtn.onclick = function() {
                const levelToRestart = currentLevel;
                startQuiz(levelToRestart);
            };
            quizCard.appendChild(playAgainBtn);
            
            // Create Main Menu button
            const mainMenuBtn = document.createElement('button');
            mainMenuBtn.className = 'restart-btn';
            mainMenuBtn.textContent = mainMenuText;
            mainMenuBtn.onclick = function() {
                backToMenu();
            };
            quizCard.appendChild(mainMenuBtn);
            
            const nextBtn = document.getElementById('next-btn');
            if (nextBtn) nextBtn.style.display = 'none';
        }
    </script>
</body>
</html>
                